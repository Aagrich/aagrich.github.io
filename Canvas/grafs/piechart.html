<html>
    <body>
        <canvas width="500" height="500" id="canvas">

        </canvas>
        <script>
            var data = [100, 68, 20, 30, 100];
            var canvas = document.getElementById('canvas');
            var c = canvas.getContext('2d');
            c.fillStyle = 'lightgray';
            c.fillRect(0,0, 500, 500);

            var colors = [ 'orange', 'green', 'blue', 'yellow', 'teal'];

            var total = 0;
            for (var i=0; i < data.length; i++) {
                total += data[i];
            }

            var prevAngle = 0;
            for (var i = 0; i < data.length; i++) {
                var fragtion = data[i]/total;
                var angle = prevAngle + fragtion*Math.PI*2;
                var grad = c.createRadialGradient( 250, 250, 10, 250, 250, 100);
                grad.addColorStop(0,'white');
                grad.addColorStop(1, colors[i]);
                c.fillStyle = grad;
                c.beginPath();
                c.moveTo(250,250);
                c.arc(250,250, 100, prevAngle, angle, false);
                c.lineTo(250,250);
                c.fill();
                c.strokeStyle = 'black';
                c.stroke();
                prevAngle = angle;
            };
            c.fillStyle = 'black';
            c.font = '24pt sans-serif';
            var text = "Some text about diagram";
            var metrics = c.measureText(text);
            c.fillText(text, 250-metrics.width/2, 400);
        </script>
    </body>
</html>
